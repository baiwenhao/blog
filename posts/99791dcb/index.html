<!DOCTYPE html>
          <head>
        <meta charset="utf-8">
            
            <title>
                npm and yarn | wenhao blog
            </title>
            <meta content="width=device-width, initial-scale=1" name="viewport">
            <meta name="theme-color" content="#4184f3">
            
            
            <link href="/favicon.ico" rel="icon"/>
            

            <link rel="stylesheet" href="/css/highlight.light.css">
            <link rel="stylesheet" href="/css/prism-customize.css">
            <link rel="stylesheet" href="/css/nav-icon.css">
            <link rel="stylesheet" href="/css/waves.min.css">
            <link rel="stylesheet" href="/css/jquery.tocify.css">
            <link rel="stylesheet" href="/css/main.css">
            <link rel="stylesheet" href="/css/nav-indicator.css">
            
  

  
            </meta>
        </meta>
    <link rel="stylesheet" href="/css/prism.css" type="text/css"></head>

    <body>
        <header>
            <!-- cover image or sth. -->
        </header>
        <div id="main" class="m-scene">
            
<div class="nav-wrapper">

    <div class="container">
        <nav>
            <div class="logo wave">
                <a href="/" id="logo">
                    wenhao blog
                </a>
            </div>
            <div class="nav-toggle-icon" >
                <div class="material-hamburger">
                    <span>
                    </span>
                    <span>
                    </span>
                    <span>
                    </span>
                </div>
            </div>
            <div class="menu-wrapper">
                <div class="nav-indicator">
                </div>
                <ul class="menus">
                    
                     
                        <li>
                            <a class="wave " href="/">
                                首页
                            </a>
                        </li>
                     
                        <li>
                            <a class="wave " href="/archives">
                                归档
                            </a>
                        </li>
                     
                        <li>
                            <a class="wave " href="/about">
                                关于
                            </a>
                        </li>
                     
                        <li>
                            <a class="wave no-smoothstate" href="/atom.xml">
                                订阅
                            </a>
                        </li>
                     
                    
                   
                </ul>
            </div>
        </nav>
    </div>
</div>
            <div class="container content">
                <div class="scene_element scene_element--fadein">
                    <div class="row">
    <div class="main">
        <article>
          
          <header class="post-header">
          
          </header>
          <h1 class="post-title">npm and yarn</h1>

          <section class="post-info">
            <span class="post-date">2017/02/07</span>
            
            
          </section>

          <section class="post-content">
            <h2 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h2><p>全局包的安装目录<br>/usr/local/lib/node_modules   不在此目录</p>
<p>dependencies生产环境依赖包<br>devDependencies开发环境依赖包<br>两者的区别是devDependencies是模块开发过程的依赖包（如：grunt只在开发时有用的模块），并且当其他模块需要依赖当前模块时，当通过npm install <package-name>时会自动下载安装dependencies的包而不会下载devDependencies的包</package-name></p>
<p>查看包的package.json<br>npm view ejs</p>
<p>帮助信息<br>npm help</p>
<p>查看包依赖关系<br>npm view ejs dependencies</p>
<p>查看包的源文件地址<br>npm view ejs repository.url</p>
<p>查看包依赖的Node版本号<br>npm view ejs engine</p>
<p>用于更改包内容后进行重建<br>npm rebuild ejs</p>
<p>检查要更新的过时包<br>npm outdated</p>
<p>更新<br>npm update ejs<br>npm update -g ejs</p>
<p>卸载<br>npm uninstall ejs<br>npm uninstall -g pjs</p>
<p>包安装路径<br>npm root</p>
<p>全局包安装路径<br>npm root -g</p>
<p>查看配置信息<br>npm config ls    |    npm config ls -l</p>
<p>修改配置信息<br>.npmrc文件<br>npm config set<br>npm config set registry <a href="http://registry.npm.taobao.org/" target="_blank" rel="noopener">http://registry.npm.taobao.org/</a><br>npm config set proxy <a href="http://proxy.com:8081/" target="_blank" rel="noopener">http://proxy.com:8081/</a></p>
<p>升级<br>npm upgrade –global yarn</p>
<p>查看npm源<br>npm config get registry</p>
<p>发布包<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">站在使用者的角度，掌握上述章节的内容已经足够了，但当我们开发出好玩的项目而且又想和大家分享时，那么下面的内容就不得不了解了！</span><br><span class="line">  1. 注册一个registry帐号， npm adduser ，然后根据引导输入帐号、密码和邮箱地址。</span><br><span class="line">  2. 登录registry帐号， npm login ，登录信息会保存在客户端。</span><br><span class="line">  3. 发布项目， npm publish 。（建议发布版本从1.0.0开始）</span><br><span class="line"></span><br><span class="line">经过上述步骤我们就可发布模块了。但这个时候你也许会考虑到项目中部分目录和文件不应该被发布出去，应该有一个像.gitignore的文件来配置这些排除项。看来你猜对了，那就是.npmignore文件，不过npm做得更灵活一些！</span><br><span class="line">  </span><br><span class="line">  1. 默认不带.npmignore文件，若项目中带.gitignore则使用.gitignore文件内容的配置项</span><br><span class="line">  2. 若带.npmignore文件则不使用.gitignore文件中的配置项</span><br><span class="line">  3. 即使配置.npmignore文件，也无法排除package.json和README.*文件</span><br></pre></td></tr></table></figure></p>
<p>路径<br>  /usr/local/n/versions/node/5.5.0</p>
<h2 id="查看-设置源"><a href="#查看-设置源" class="headerlink" title="查看,设置源"></a>查看,设置源</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm config get registry</span><br><span class="line">yarn config get registry</span><br><span class="line">yarn config set registry https://registry.yarnpkg.com</span><br></pre></td></tr></table></figure>
<h2 id="yarn"><a href="#yarn" class="headerlink" title="yarn"></a>yarn</h2><p>yran add -D<br>yran add -S<br>yarn bin<br>yarn ls<br>yarn remove<br>yarn upgrade vue-template-compiler@2.6.10<br><a href="https://learnku.com/articles/15976/yarn-accelerate-and-modify-mirror-source-in-china" target="_blank" rel="noopener">https://learnku.com/articles/15976/yarn-accelerate-and-modify-mirror-source-in-china</a></p>
<h2 id="查看全局包"><a href="#查看全局包" class="headerlink" title="查看全局包"></a>查看全局包</h2><p>npm list -g –depth 0</p>
<h2 id="删除全局包"><a href="#删除全局包" class="headerlink" title="删除全局包"></a>删除全局包</h2><p>npm uninstall -g vue-cli<br>npm install -g @vue/cli<br>yarn global remove vue-cli<br>yarn global add @vue/cli</p>
<h2 id="查看node安装的位置"><a href="#查看node安装的位置" class="headerlink" title="查看node安装的位置"></a>查看node安装的位置</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm root -g</span><br><span class="line"></span><br><span class="line">Mac 下默认的全局路径是:</span><br><span class="line">/usr/local/lib/node_modules</span><br><span class="line"></span><br><span class="line">Ubuntu 下默认的全局路径是:</span><br><span class="line">/usr/lib/node_modules</span><br><span class="line"></span><br><span class="line">npm ls -g --depth 0 | grep packageName</span><br><span class="line">--depth 0 仅查看一级目录</span><br><span class="line"></span><br><span class="line">npm ls -g</span><br><span class="line">查看安装的所以全局包</span><br><span class="line"></span><br><span class="line">npm config</span><br><span class="line">https://www.npmjs.cn/getting-started/updating-global-packages/</span><br></pre></td></tr></table></figure>
<h2 id="临时使用"><a href="#临时使用" class="headerlink" title="临时使用"></a>临时使用</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install pack -g --registry=http://192.168.30.69:7001/</span><br><span class="line">npm --registry https://registry.npm.taobao.org install express</span><br></pre></td></tr></table></figure>

          </section>
        </article>
        

       
        <div class="pager">
          
            <a class="post-prev pager-item" href="/posts/2f5ead85/" >
              <strong class="article-nav-caption">上一篇</strong>
              <p class="post-nav-title">mac</p>
            </a>
          
          
            <a class="post-next pager-item" href="/posts/69c3279c/">
              <strong class="article-nav-caption">下一篇</strong>
              <p class="post-nav-title">git</p>
            </a>
          
        </div>
        

         <!-- comments -->
        <div class="comment-section">
  
    


  


</div>

    </div>
    
</div>

                </div>
            </div>
        </div>
        <footer class="footer">
    <p>
        &copy; 2021 wenhao blog
    </p>
</footer>
<script src="/lib/jquery.js"></script>
<script src="/lib/waves.js"></script>
<script src="/lib/jquery-ui.js"></script>
<script src="/lib/jquery.tocify.js"></script>
<script src="/js/main.js"></script>

    </body>
</html>

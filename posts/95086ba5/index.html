<!DOCTYPE html>
          <head>
        <meta charset="utf-8">
            
            <title>
                h5 | wenhao blog
            </title>
            <meta content="width=device-width, initial-scale=1" name="viewport">
            <meta name="theme-color" content="#4184f3">
            
            
            <link href="/favicon.ico" rel="icon"/>
            

            <link rel="stylesheet" href="/css/highlight.light.css">
            <link rel="stylesheet" href="/css/prism-customize.css">
            <link rel="stylesheet" href="/css/nav-icon.css">
            <link rel="stylesheet" href="/css/waves.min.css">
            <link rel="stylesheet" href="/css/jquery.tocify.css">
            <link rel="stylesheet" href="/css/main.css">
            <link rel="stylesheet" href="/css/nav-indicator.css">
            
  

  
            </meta>
        </meta>
    <link rel="stylesheet" href="/css/prism.css" type="text/css"></head>

    <body>
        <header>
            <!-- cover image or sth. -->
        </header>
        <div id="main" class="m-scene">
            
<div class="nav-wrapper">

    <div class="container">
        <nav>
            <div class="logo wave">
                <a href="/" id="logo">
                    wenhao blog
                </a>
            </div>
            <div class="nav-toggle-icon" >
                <div class="material-hamburger">
                    <span>
                    </span>
                    <span>
                    </span>
                    <span>
                    </span>
                </div>
            </div>
            <div class="menu-wrapper">
                <div class="nav-indicator">
                </div>
                <ul class="menus">
                    
                     
                        <li>
                            <a class="wave " href="/">
                                首页
                            </a>
                        </li>
                     
                        <li>
                            <a class="wave " href="/archives">
                                归档
                            </a>
                        </li>
                     
                        <li>
                            <a class="wave " href="/about">
                                关于
                            </a>
                        </li>
                     
                        <li>
                            <a class="wave no-smoothstate" href="/atom.xml">
                                订阅
                            </a>
                        </li>
                     
                    
                   
                </ul>
            </div>
        </nav>
    </div>
</div>
            <div class="container content">
                <div class="scene_element scene_element--fadein">
                    <div class="row">
    <div class="main">
        <article>
          
          <header class="post-header">
          
          </header>
          <h1 class="post-title">h5</h1>

          <section class="post-info">
            <span class="post-date">2017/02/07</span>
            
            
          </section>

          <section class="post-content">
            <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">x-webkit-speech 语音插件</span><br><span class="line">placeholder=&quot;请输入查询地址&quot;</span><br><span class="line">Autocomplete jq有这个插件</span><br><span class="line">autocomplete=&quot;off&quot; 不留痕迹</span><br><span class="line">location的属性：hash、host、hostname、href、pathname、port、protocol、search</span><br><span class="line">reload()将服务端数据重新载入</span><br><span class="line">replace()将当前页面替换成另一个页面window.location.replace(&quot;http://www.baidu.com&quot;);</span><br><span class="line">html5 历史管理onhashchange: 当window.location.hash值有变化的时候，就会触发</span><br><span class="line">history: pushState( 数据, 标题(未实现) , 地址(可选) );</span><br><span class="line">popstate事件: 读取诗句 event.state</span><br><span class="line">&lt;input type=&quot;text&quot; autocapitalize=&quot;off&quot; autocorrect=&quot;off&quot; /&gt; 自动修正大小写</span><br><span class="line">新的特殊内容元素</span><br><span class="line">如:article,footer,header,nav,section</span><br><span class="line">新的表单控件</span><br><span class="line">calendar,date,time,email,url,search</span><br></pre></td></tr></table></figure>
<h2 id="应用缓存"><a href="#应用缓存" class="headerlink" title="应用缓存"></a>应用缓存</h2><p>html5Doctor<br>要将描述文件与页面关联起来,manifest要指定这个文件的路径</p>
<p><html manifest="“/offline.manifest”"><br>这个文件的MIME类型必须是text/cache-manifest<br>applicationCache对象</html></p>
<h2 id="status状态码"><a href="#status状态码" class="headerlink" title="status状态码"></a>status状态码</h2><p>0无缓存,没有与页面相关的应用缓存<br>1闲置,应用缓存为得到更新<br>2检查中,正在下载描述文件并检查更新<br>3下载中,正在下载描述文件中指定的资源<br>4更新完成,应用缓存已经更新资源,资源下载完毕,可以用过swapCache()来使用<br>5废弃,描述文件不存在,无法访问应用缓存</p>
<p>事件<br>checking<br>error<br>nouodate<br>downloading<br>progress<br>updateready<br>cached<br>applicationCache.update()一经调用,应用缓存就会去检查描述文件是否更新,<br>出发checking事件,如果触发cached事件,说明应用缓存准备就绪,不会触发其他事件了,<br>如果触发updateready事件,说明新版本的应用缓存已经可用,此时需要调用swapCache来启用新应用缓存</p>
<h2 id="web计时"><a href="#web计时" class="headerlink" title="web计时"></a>web计时</h2><p>window.performance<br>performance导航相关属性<br>performance.navigation.redirectCount页面加载前重定向次数<br>performance.navigation.type<br>0页面第一次加载<br>1页面重载过<br>2页面通过后退和前进按钮打开的</p>
<p>performance.timing时间戳属性<br>performance.timing.responseEnd<br>全面了解页面在被加载到浏览器的过程中经历了哪些阶段,哪些阶段影响性能瓶颈,web Timing API</p>
<p>Jquery Mobile事件<br>pageinit ＝dom加载完成后出发<br>tap ＝触摸<br>taphold =长按<br>swipe ＝滑动<br>swipeleft =向左滑<br>swiperight =向右滑<br>scrollstart =开始滑动<br>scrollstop =停止滑动</p>
<h5 id="JS判断设备"><a href="#JS判断设备" class="headerlink" title="JS判断设备"></a>JS判断设备</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function deviceType()&#123;</span><br><span class="line">  var ua = navigator.userAgent</span><br><span class="line">  var agent = [&quot;Android&quot;, &quot;iPhone&quot;, &quot;SymbianOS&quot;, &quot;Windows Phone&quot;, &quot;iPad&quot;, &quot;iPod&quot;];</span><br><span class="line">  for(var i=0; i&lt;len,len = agent.length; i++) &#123;</span><br><span class="line">    if(ua.indexOf(agent[i])&gt;0)&#123;</span><br><span class="line">      break</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">deviceType()</span><br><span class="line">window.addEventListener(&apos;resize&apos;, function() &#123;</span><br><span class="line">    deviceType()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h5 id="JS判断微信浏览器"><a href="#JS判断微信浏览器" class="headerlink" title="JS判断微信浏览器"></a>JS判断微信浏览器</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">function isWeixin()&#123;</span><br><span class="line">  var ua = navigator.userAgent.toLowerCase()</span><br><span class="line">  if(ua.match(/MicroMessenger/i)==&apos;micromessenger&apos;) &#123;</span><br><span class="line">    return true</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    return false</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Media-Query"><a href="#Media-Query" class="headerlink" title="Media Query"></a>Media Query</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">设备高度:     device-width, device-height</span><br><span class="line">渲染窗口宽高:     width, height</span><br><span class="line">设备手持方向:     orientaion</span><br><span class="line">设备分辨率:     resolution</span><br><span class="line"></span><br><span class="line">页面宽小于640px调用此样式</span><br><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;?.css&quot; type=&quot;text/css&quot; media=&quot;only screen and (max-width:640px)&quot;&gt;</span><br><span class="line"></span><br><span class="line">页面宽大于680px调用此样式</span><br><span class="line">@media screen and (min-width:680px)&#123;...&#125;</span><br></pre></td></tr></table></figure>
<h2 id="html5拖拽"><a href="#html5拖拽" class="headerlink" title="html5拖拽"></a>html5拖拽</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">draggable=&quot;true&quot;  可拖拽</span><br><span class="line">ondragstart - 开始拖动  event.dataTransfer.setData(&quot;Text&quot;, event.target.id); 拖拽id</span><br><span class="line">ondrag - 正在拖动</span><br><span class="line">ondragend - 完成拖动</span><br><span class="line">接收对象</span><br><span class="line">ondragenter - 进入容器范围</span><br><span class="line">ondragover - 容器范围内拖动</span><br><span class="line">ondragleave - 对象离开容器范围</span><br><span class="line">ondrop - 拖动过程中，释放拖拽对象</span><br><span class="line"></span><br><span class="line">xhr.upload 这是html5新增的api,储存了上传过程中的信息</span><br><span class="line">xhr.upload.onprogress = function (ev) &#123;</span><br><span class="line">    var percent = 0;</span><br><span class="line">    if(ev.lengthComputable) &#123;</span><br><span class="line">        percent = 100 * ev.loaded/ev.total;</span><br><span class="line">        //document.getElementById(&apos;progress&apos;).innerHTML = percent;</span><br><span class="line">        document.getElementById(&apos;bar&apos;).style.width = percent + &apos;%&apos;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>##移动端电话短信邮件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// 一、打电话</span><br><span class="line">&lt;a href=&quot;tel:0755-10086&quot;&gt;打电话给:0755-10086&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">//  二、发短信，winphone系统无效</span><br><span class="line">&lt;a href=&quot;sms:10086&quot;&gt;发短信给: 10086&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">// 三、写邮件</span><br><span class="line">//注：在添加这些功能时，第一个功能以&quot;?&quot;开头，后面的以&quot;&amp;&quot;开头</span><br><span class="line">// 1.普通邮件</span><br><span class="line">&lt;a href=&quot;mailto:863139978@qq.com&quot;&gt;点击我发邮件&lt;/a&gt;</span><br><span class="line">// 2.收件地址后添加?cc=开头，可添加抄送地址（Android存在兼容问题）</span><br><span class="line">&lt;a href=&quot;mailto:863139978@qq.com?cc=zhangqian0406@yeah.net&quot;&gt;点击我发邮件&lt;/a&gt;</span><br><span class="line">// 3.跟着抄送地址后，写上&amp;bcc=,可添加密件抄送地址（Android存在兼容问题）</span><br><span class="line">&lt;a href=&quot;mailto:863139978@qq.com?cc=zhangqian0406@yeah.net&amp;bcc=384900096@qq.com&quot;&gt;点击我发邮件&lt;/a&gt;</span><br><span class="line">// 4.包含多个收件人、抄送、密件抄送人，用分号(;)隔开多个邮件人的地址</span><br><span class="line">&lt;a href=&quot;mailto:863139978@qq.com;384900096@qq.com&quot;&gt;点击我发邮件&lt;/a&gt;</span><br><span class="line">// 5.包含主题，用?subject=</span><br><span class="line">&lt;a href=&quot;mailto:863139978@qq.com?subject=邮件主题&quot;&gt;点击我发邮件&lt;/a&gt;</span><br><span class="line">// 6.包含内容，用?body=;如内容包含文本，使用%0A给文本换行</span><br><span class="line">&lt;a href=&quot;mailto:863139978@qq.com?body=邮件主题内容%0A腾讯诚信%0A期待您的到来&quot;&gt;点击我发邮件&lt;/a&gt;</span><br><span class="line">// 7.内容包含链接，含http(s)://等的文本自动转化为链接</span><br><span class="line">&lt;a href=&quot;mailto:863139978@qq.com?body=http://www.baidu.com&quot;&gt;点击我发邮件&lt;/a&gt;</span><br><span class="line">// 8.内容包含图片（PC不支持）</span><br><span class="line">&lt;a href=&quot;mailto:863139978@qq.com?body=&lt;img src=&apos;images/1.jpg&apos; /&gt;&quot;&gt;点击我发邮件&lt;/a&gt;</span><br><span class="line">// 9.完整示例</span><br><span class="line">&lt;a href=&quot;mailto:863139978@qq.com;384900096@qq.com?cc=zhangqian0406@yeah.net&amp;bcc=993233461@qq.com&amp;subject=[邮件主题]&amp;body=腾讯诚邀您参与%0A%0Ahttp://www.baidu.com%0A%0A&lt;img src=&apos;images/1.jpg&apos; /&gt;&quot;&gt;点击我发邮件&lt;/a&gt;</span><br></pre></td></tr></table></figure>
<h2 id="html5-audio和video"><a href="#html5-audio和video" class="headerlink" title="html5 audio和video"></a>html5 audio和video</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">// 音频，写法一</span><br><span class="line">&lt;audio src=&quot;music/bg.mp3&quot; autoplay loop controls&gt;你的浏览器还不支持哦&lt;/audio&gt;</span><br><span class="line"></span><br><span class="line">// 音频，写法二</span><br><span class="line">&lt;audio controls=&quot;controls&quot;&gt;</span><br><span class="line">    &lt;source src=&quot;music/bg.ogg&quot; type=&quot;audio/ogg&quot;&gt;&lt;/source&gt;</span><br><span class="line">    &lt;source src=&quot;music/bg.mp3&quot; type=&quot;audio/mpeg&quot;&gt;&lt;/source&gt;</span><br><span class="line">    优先播放音乐bg.ogg，不支持在播放bg.mp3</span><br><span class="line">&lt;/audio&gt;</span><br><span class="line"></span><br><span class="line">// JS绑定自动播放（操作window时，播放音乐）</span><br><span class="line">$(window).one(&apos;touchstart&apos;, function() &#123;</span><br><span class="line">    music.play()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">// 微信下兼容处理</span><br><span class="line">document.addEventListener(&quot;WeixinJSBridgeReady&quot;, function () &#123;</span><br><span class="line">  music.play()</span><br><span class="line">&#125;, false)</span><br><span class="line"></span><br><span class="line">// 小结</span><br><span class="line">// 1.audio元素的autoplay属性在IOS及Android上无法使用，在PC端正常</span><br><span class="line">// 2.audio元素没有设置controls时，在IOS及Android会占据空间大小，而在PC端Chrome是不会占据任何空间</span><br></pre></td></tr></table></figure>
<h2 id="播放视频不全屏"><a href="#播放视频不全屏" class="headerlink" title="播放视频不全屏"></a>播放视频不全屏</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!--</span><br><span class="line">1.ios7+支持自动播放</span><br><span class="line">2.支持Airplay的设备（如：音箱、Apple TV)播放</span><br><span class="line">x-webkit-airplay=&quot;true&quot;</span><br><span class="line">3.播放视频不全屏</span><br><span class="line">webkit-playsinline=&quot;true&quot;</span><br><span class="line">--&gt;</span><br><span class="line">&lt;video x-webkit-airplay=&quot;true&quot; webkit-playsinline=&quot;true&quot; preload=&quot;auto&quot; autoplay src=&quot;http://&quot;&gt;&lt;/video&gt;</span><br></pre></td></tr></table></figure>
<h2 id="localStorage"><a href="#localStorage" class="headerlink" title="localStorage"></a>localStorage</h2><p><a href="https://github.com/marcuswestin/store.js" target="_blank" rel="noopener">https://github.com/marcuswestin/store.js</a><br><a href="https://github.com/brianleroux/lawnchair" target="_blank" rel="noopener">https://github.com/brianleroux/lawnchair</a><br><a href="https://github.com/d0ugal-archive/locache" target="_blank" rel="noopener">https://github.com/d0ugal-archive/locache</a><br><a href="https://github.com/pamelafox/lscache" target="_blank" rel="noopener">https://github.com/pamelafox/lscache</a></p>
<p>// 上传<br><a href="https://www.ibm.com/developerworks/cn/web/1101_hanbf_fileupload/" target="_blank" rel="noopener">https://www.ibm.com/developerworks/cn/web/1101_hanbf_fileupload/</a></p>

          </section>
        </article>
        

       
        <div class="pager">
          
            <a class="post-prev pager-item" href="/posts/6096f3d5/" >
              <strong class="article-nav-caption">上一篇</strong>
              <p class="post-nav-title">LeetCode</p>
            </a>
          
          
            <a class="post-next pager-item" href="/posts/65940d5a/">
              <strong class="article-nav-caption">下一篇</strong>
              <p class="post-nav-title">ajax</p>
            </a>
          
        </div>
        

         <!-- comments -->
        <div class="comment-section">
  
    


  


</div>

    </div>
    
    <aside>
        <div id="toc">
        </div>
    </aside>
    
</div>

                </div>
            </div>
        </div>
        <footer class="footer">
    <p>
        &copy; 2020 wenhao blog
    </p>
</footer>
<script src="/lib/jquery.js"></script>
<script src="/lib/waves.js"></script>
<script src="/lib/jquery-ui.js"></script>
<script src="/lib/jquery.tocify.js"></script>
<script src="/js/main.js"></script>

    </body>
</html>
